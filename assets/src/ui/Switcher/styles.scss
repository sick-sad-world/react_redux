@import 'mixins/_u.scss';
@import 'mixins/_styles.scss';
@import '_vars.scss';

.Switcher--root {
  $h: u(1.5);
  $w: u(2.25);
  .body {
    display: flex;
    align-items: center;
  }
  label {
    flex: 1 1 auto;
  }
  .subtext {
    @include cap-styles();
    display: block;
    margin-top: u(.5);
  }
  .control {
    $step: $w + ($w - $s-pointer) * .5;
    display: inline-block;
    position: relative;
    height: $h;
      
    input {
      position: relative;
      vertical-align: top;
      width: $w;
      height: $h;
      opacity: 0;
      z-index: 3;
      cursor: pointer;
    }

    input:nth-child(1):checked {
      & ~ .handle {
        background-color: color(accent);
      }
      & ~ .track {
        background-color: color(accent, lighter);
      }
    }

    input:nth-child(2):checked ~ .handle {
      transform: translate3d($step,0,0);
    }

    input:nth-child(3):checked {
      & ~ .handle {
        transform: translate3d($step * 2,0,0);
        background-color: color(action);
      }
      & ~ .track {
        background-color: color(action, lighter);
      }
    }

    .track {
      position: absolute;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: $h * .5;
      background-color: color(highlight);
      transition: background-color 0 ease-in $t-dur * .5;
    }

    .handle {
      display: block;
      position: absolute;
      top: ($h - $s-pointer) * .5;
      width: $s-pointer;
      height: $s-pointer;
      border-radius: 50%;
      background-color: color(secondary);
      box-shadow: shadow();
      transition: transform $t-dur $t-func, box-shadow $t-dur $t-func;
      z-index: 2;
    }

    input:focus ~ .handle {
      box-shadow: shadow(2);
    }
  }
}